<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>69-System Lab Management - Testing Checklist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.2em;
        }
        
        .progress-bar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .progress-bar h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .progress {
            background: #e0e0e0;
            border-radius: 20px;
            height: 30px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 100%;
            border-radius: 20px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .phases {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
        }
        
        .phase {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .phase:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .phase-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .phase-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }
        
        .phase-title {
            flex: 1;
        }
        
        .phase-title h3 {
            color: #333;
            font-size: 1.3em;
            margin-bottom: 5px;
        }
        
        .phase-title p {
            color: #666;
            font-size: 0.9em;
        }
        
        .phase-status {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            background: #f0f0f0;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .phase-status.pending {
            background: #fff3cd;
            border-color: #ffc107;
        }
        
        .phase-status.in-progress {
            background: #cfe2ff;
            border-color: #0d6efd;
            animation: pulse 1.5s infinite;
        }
        
        .phase-status.complete {
            background: #d1e7dd;
            border-color: #198754;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .checklist {
            list-style: none;
        }
        
        .checklist-item {
            display: flex;
            align-items: flex-start;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 8px;
            transition: background 0.2s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .checklist-item:hover {
            background: #f8f9fa;
        }
        
        .checklist-item.checked {
            background: #d1e7dd;
            border-color: #198754;
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #ccc;
            border-radius: 6px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }
        
        .checklist-item.checked .checkbox {
            background: #198754;
            border-color: #198754;
        }
        
        .checklist-item.checked .checkbox::after {
            content: '‚úì';
            color: white;
            font-weight: bold;
        }
        
        .checklist-text {
            flex: 1;
            color: #333;
            line-height: 1.5;
        }
        
        .checklist-item.checked .checklist-text {
            color: #666;
        }
        
        .command-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #333;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: flex;
            align-items: center;
        }
        
        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        
        .alert-success {
            background: #d1e7dd;
            border-left: 4px solid #198754;
        }
        
        .alert-icon {
            font-size: 1.5em;
            margin-right: 12px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: #198754;
            color: white;
        }
        
        .btn-success:hover {
            background: #157347;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(25, 135, 84, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .footer {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .footer p {
            color: #666;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ 69-System Lab Management</h1>
            <p>Interactive Testing & Deployment Checklist</p>
        </div>
        
        <div class="progress-bar">
            <h3>Overall Progress</h3>
            <div class="progress">
                <div class="progress-fill" id="progressBar" style="width: 0%;">
                    <span id="progressText">0%</span>
                </div>
            </div>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="completedCount">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalCount">0</div>
                    <div class="stat-label">Total Tasks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="phasesComplete">0</div>
                    <div class="stat-label">Phases Done</div>
                </div>
            </div>
        </div>
        
        <div class="phases">
            <!-- PHASE 1: SERVER TESTING -->
            <div class="phase" data-phase="1">
                <div class="phase-header">
                    <div class="phase-icon">üñ•Ô∏è</div>
                    <div class="phase-title">
                        <h3>Phase 1: Server Testing</h3>
                        <p>Admin PC (10.10.46.103)</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="1-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Start MongoDB Service</strong>
                            <div class="command-box">net start MongoDB</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="1-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Start Lab Management Server</strong>
                            <div class="command-box">cd central-admin\server<br>node app.js</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="1-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify Server Startup Messages</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">‚úÖ</span>
                                <span>Watch for: "Connected to MongoDB", "Server Started Successfully"</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="1-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Access Admin Dashboard</strong>
                            <div class="command-box">http://10.10.46.103:7401</div>
                        </div>
                    </li>
                </ul>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="openUrl('http://10.10.46.103:7401')">
                        üåê Open Dashboard
                    </button>
                </div>
            </div>
            
            <!-- PHASE 2: SINGLE SYSTEM TEST -->
            <div class="phase" data-phase="2">
                <div class="phase-header">
                    <div class="phase-icon">üíª</div>
                    <div class="phase-title">
                        <h3>Phase 2: Single System Test</h3>
                        <p>Test with System 12 (10.10.46.12)</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="2-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Deploy Kiosk to Test System</strong>
                            <div class="command-box">Copy to: C:\Lab-Kiosk\</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="2-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Configure server-config.json</strong>
                            <div class="command-box">{"serverIP":"10.10.46.103","serverPort":7401}</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="2-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Start Student Kiosk</strong>
                            <div class="command-box">cd C:\Lab-Kiosk\student-kiosk<br>npm start</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="2-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify Heartbeat Registration</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">üì°</span>
                                <span>Check server console for: "System Heartbeat: System 12"</span>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- PHASE 3: SHOW ALL SYSTEMS FEATURE -->
            <div class="phase" data-phase="3">
                <div class="phase-header">
                    <div class="phase-icon">üìä</div>
                    <div class="phase-title">
                        <h3>Phase 3: Show All Systems</h3>
                        <p>Verify 69-system display</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="3-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Open Admin Dashboard</strong>
                            <div class="command-box">http://10.10.46.103:7401</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="3-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Click "Show All Systems" Button</strong>
                            <div class="alert alert-warning">
                                <span class="alert-icon">üîª</span>
                                <span>Button is in top session controls area</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="3-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify Modal Shows All 69 Systems</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">‚úÖ</span>
                                <span>Should show: Total: 69 | Online: 1 | Offline: 68</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="3-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Test Refresh Button</strong>
                            <div class="command-box">Click üîÑ Refresh - verify stats update</div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- PHASE 4: SHUTDOWN TEST -->
            <div class="phase" data-phase="4">
                <div class="phase-header">
                    <div class="phase-icon">‚ö†Ô∏è</div>
                    <div class="phase-title">
                        <h3>Phase 4: Shutdown Test</h3>
                        <p>Complete Windows shutdown</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="4-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Select System 12</strong>
                            <div class="command-box">Check the checkbox next to System 12</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="4-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Click "Shutdown Selected Systems"</strong>
                            <div class="alert alert-warning">
                                <span class="alert-icon">‚ö†Ô∏è</span>
                                <span>Two confirmation dialogs will appear</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="4-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Type "SHUTDOWN" to Confirm</strong>
                            <div class="command-box">Case-sensitive: SHUTDOWN</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="4-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify Red Warning on System 12</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">üî¥</span>
                                <span>10-second countdown should appear</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="4-5">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify Complete Shutdown</strong>
                            <div class="alert alert-warning">
                                <span class="alert-icon">‚ö°</span>
                                <span>System powers off completely (not just logout)</span>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- PHASE 5: MULTI-SYSTEM TEST -->
            <div class="phase" data-phase="5">
                <div class="phase-header">
                    <div class="phase-icon">üî¢</div>
                    <div class="phase-title">
                        <h3>Phase 5: Multi-System Test</h3>
                        <p>Test with 2-3 systems</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="5-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Deploy to Systems 13 & 14</strong>
                            <div class="command-box">Copy kiosk + start on both systems</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="5-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify 3 Systems Online</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">‚úÖ</span>
                                <span>Stats should show: Total: 69 | Online: 3</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="5-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Test Selective Shutdown</strong>
                            <div class="command-box">Select Systems 12 & 14, leave 13 running</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="5-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Test "Select All" / "Deselect All"</strong>
                            <div class="alert alert-warning">
                                <span class="alert-icon">‚òëÔ∏è</span>
                                <span>Only online systems can be selected</span>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            
            <!-- PHASE 6: FULL DEPLOYMENT -->
            <div class="phase" data-phase="6">
                <div class="phase-header">
                    <div class="phase-icon">üöÄ</div>
                    <div class="phase-title">
                        <h3>Phase 6: Full Deployment</h3>
                        <p>Deploy to all 69 systems</p>
                    </div>
                    <div class="phase-status pending" data-status="pending">‚è≥</div>
                </div>
                
                <ul class="checklist">
                    <li class="checklist-item" data-task="6-1">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Prepare Batch Deployment Script</strong>
                            <div class="command-box">deploy_to_all_systems.bat</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="6-2">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Deploy to All Systems</strong>
                            <div class="alert alert-warning">
                                <span class="alert-icon">‚ö†Ô∏è</span>
                                <span>IP Range: 10.10.46.12-255 (exclude .103)</span>
                            </div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="6-3">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Configure Auto-Start on All Systems</strong>
                            <div class="command-box">Task Scheduler or Registry startup</div>
                        </div>
                    </li>
                    <li class="checklist-item" data-task="6-4">
                        <div class="checkbox"></div>
                        <div class="checklist-text">
                            <strong>Verify All 69 Systems Online</strong>
                            <div class="alert alert-success">
                                <span class="alert-icon">üéâ</span>
                                <span>Dashboard should show: Total: 69 | Online: 69</span>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>Server IP:</strong> 10.10.46.103 | <strong>Port:</strong> 7401</p>
            <p><strong>System Range:</strong> 10.10.46.12 - 10.10.46.255</p>
            <p><strong>Heartbeat Interval:</strong> 30 seconds | <strong>Shutdown Countdown:</strong> 10 seconds</p>
            <div class="button-group" style="margin-top: 15px;">
                <button class="btn btn-success" onclick="exportProgress()">
                    üíæ Export Progress
                </button>
                <button class="btn btn-secondary" onclick="resetProgress()">
                    üîÑ Reset All
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Load saved progress
        let progress = JSON.parse(localStorage.getItem('lab-deployment-progress') || '{}');
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress();
            updateStats();
            
            // Add click handlers to all checklist items
            document.querySelectorAll('.checklist-item').forEach(item => {
                item.addEventListener('click', () => toggleTask(item));
            });
        });
        
        function toggleTask(item) {
            const taskId = item.dataset.task;
            const isChecked = item.classList.contains('checked');
            
            if (isChecked) {
                item.classList.remove('checked');
                delete progress[taskId];
            } else {
                item.classList.add('checked');
                progress[taskId] = {
                    completed: true,
                    timestamp: new Date().toISOString()
                };
            }
            
            saveProgress();
            updateStats();
            updatePhaseStatus();
        }
        
        function saveProgress() {
            localStorage.setItem('lab-deployment-progress', JSON.stringify(progress));
        }
        
        function loadProgress() {
            Object.keys(progress).forEach(taskId => {
                const item = document.querySelector(`[data-task="${taskId}"]`);
                if (item) {
                    item.classList.add('checked');
                }
            });
        }
        
        function updateStats() {
            const allTasks = document.querySelectorAll('.checklist-item');
            const completedTasks = Object.keys(progress).length;
            const totalTasks = allTasks.length;
            const percentage = Math.round((completedTasks / totalTasks) * 100);
            
            document.getElementById('completedCount').textContent = completedTasks;
            document.getElementById('totalCount').textContent = totalTasks;
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '%';
            
            // Count complete phases
            let phasesComplete = 0;
            for (let i = 1; i <= 6; i++) {
                if (isPhaseComplete(i)) phasesComplete++;
            }
            document.getElementById('phasesComplete').textContent = phasesComplete;
        }
        
        function updatePhaseStatus() {
            for (let i = 1; i <= 6; i++) {
                const phase = document.querySelector(`[data-phase="${i}"]`);
                const statusBadge = phase.querySelector('.phase-status');
                const tasks = phase.querySelectorAll('.checklist-item');
                const completedTasks = phase.querySelectorAll('.checklist-item.checked');
                
                if (completedTasks.length === 0) {
                    statusBadge.className = 'phase-status pending';
                    statusBadge.textContent = '‚è≥';
                    statusBadge.dataset.status = 'pending';
                } else if (completedTasks.length < tasks.length) {
                    statusBadge.className = 'phase-status in-progress';
                    statusBadge.textContent = '‚è≥';
                    statusBadge.dataset.status = 'in-progress';
                } else {
                    statusBadge.className = 'phase-status complete';
                    statusBadge.textContent = '‚úÖ';
                    statusBadge.dataset.status = 'complete';
                }
            }
        }
        
        function isPhaseComplete(phaseNumber) {
            const phase = document.querySelector(`[data-phase="${phaseNumber}"]`);
            const tasks = phase.querySelectorAll('.checklist-item');
            const completedTasks = phase.querySelectorAll('.checklist-item.checked');
            return tasks.length === completedTasks.length;
        }
        
        function openUrl(url) {
            window.open(url, '_blank');
        }
        
        function exportProgress() {
            const report = {
                timestamp: new Date().toISOString(),
                totalTasks: document.querySelectorAll('.checklist-item').length,
                completedTasks: Object.keys(progress).length,
                progress: progress
            };
            
            const blob = new Blob([JSON.stringify(report, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `lab-deployment-progress-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            alert('‚úÖ Progress exported successfully!');
        }
        
        function resetProgress() {
            if (confirm('‚ö†Ô∏è Are you sure you want to reset all progress?')) {
                if (confirm('This cannot be undone. Continue?')) {
                    localStorage.removeItem('lab-deployment-progress');
                    progress = {};
                    document.querySelectorAll('.checklist-item').forEach(item => {
                        item.classList.remove('checked');
                    });
                    updateStats();
                    updatePhaseStatus();
                    alert('‚úÖ Progress reset successfully!');
                }
            }
        }
    </script>
</body>
</html>
